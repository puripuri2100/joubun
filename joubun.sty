\ProvidesPackage{joubun}[2018/02/07]
\NeedsTeXFormat{LaTeX2e}
\RequirePackage{jcounter}
\RequirePackage{enumitem}
\RequirePackage{ifthen}
\RequirePackage{ifxetex,ifluatex,ifluatex}
\ifthenelse{\boolean{xetex}}{
  % XeLaTeXでは\zw
  \newcommand*{\myzw}{\zw}
}{\ifthenelse{\boolean{luatex}}{
  % LuaLaTeXでは\zw
  \newcommand*{\myzw}{\zw}
}{\ifthenelse{\boolean{upTeX}}{
  % upLaTeXではzw
  \newcommand*{\myzw}{zw}
}{%else (pLaTeXと仮定する)
  % pLaTeXではzw
  \newcommand*{\myzw}{zw}
}}}

%------------------hen
\newcounter{hen}
\setcounter{hen}{0}
\newcommand{\@thehen}{\jkansuji\thehen}
\newcommand{\hen}[1]{\refstepcounter{hen}\par\vskip1\myzw\noindent{\hspace{5\myzw}第{\@thehen}編\hspace{1\myzw}{#1}}
\setcounter{edahen}{1}\par}

%------------------syou
\newcounter{syou}[hen]
\setcounter{syou}{1}
\newcommand{\@thesyou}{\jkansuji\thesyou}
\newcommand{\syou}[1]{\refstepcounter{syou}\par\vskip1\myzw\noindent{\hspace{4\myzw}第{\@thesyou}章\hspace{1\myzw}{#1}}
\setcounter{edasyou}{1}\par}

%------------------setu
\newcounter{setu}[syou]
\setcounter{setu}{1}
\newcommand{\@thesetu}{\jkansuji\thesetu}
\newcommand{\setu}[1]{\refstepcounter{setu}\par\vskip1\myzw\noindent{\hspace{3\myzw}第{\@thesetu}節\hspace{1\myzw}{#1}}
\setcounter{edasetu}{1}\par}

%------------------kan
\newcounter{kan}[setu]
\setcounter{kan}{1}
\newcommand{\@thekan}{\jkansuji\thekan}
\newcommand{\kan}[1]{\refstepcounter{kan}\par\vskip1\myzw\noindent {\hspace{2\myzw}第{\@thekan}款\hspace{1\myzw}{#1}}
\setcounter{edakan}{1}\par}

%------------------moku
\newcounter{moku}[kan]
\setcounter{moku}{1}
\newcommand{\@themoku}{\jkansuji\themoku}
\newcommand{\moku}[1]{\refstepcounter{moku}\par\vskip1\myzw\noindent{\hspace{1\myzw}第{\@themoku}目\hspace{1\myzw}{#1}}
\setcounter{edamoku}{1}\par}

%------------------jou
\newcounter{jou}
\setcounter{jou}{0}
\newcommand{\@thejou}{\jkansuji\thejou}
\newcommand{\jou}[2][]{\par\vskip 1\myzw\noindent#1%[\vskip -2\myzw]{\par\vskip 1\myzw\noindent\hspace{2.5\myzw} #1%
\refstepcounter{jou}%
\begin{description}[leftmargin=0\myzw,labelsep=1\myzw,itemindent=0\myzw,font=\mcfamily,nosep]
\item[第{\@thejou}条] #2
\end{description}
\setcounter{kou}{1}
\setcounter{edajou}{1}}

%------------------kou

\newcounter{kou}[jou]
\newcommand{\@thekou}{\jzenkakusuji\thekou}
\newcommand{\kou}[1]{
\refstepcounter{kou}
\begin{description}[leftmargin=0\zw,labelsep=1\zw,itemindent=0\zw,font=\mcfamily,nosep]
\item[\@thekou] #1
\end{description}
\setcounter{edakou}{1}}

%------------------gou

\newcounter{gou}[jou]
\newcommand{\@thegou}{\jkansuji\thegou}
\newcommand{\gou}[1]{
{\refstepcounter{gou}}
\begin{description}[leftmargin=1\zw,labelsep=1\zw,itemindent=0\zw,font=\mcfamily,nosep]
\item[\@thegou] #1
\end{description}
\setcounter{edagou}{1}}
%--------------------------------edabangou
%------------------edajou
\newcounter{edajou}[jou]
\setcounter{edajou}{1}
\newcommand{\@theedajou}{\jkansuji\theedajou}

\newcommand{\edajou}[2][]{\par\vskip 1\myzw\noindent #1%
\refstepcounter{edajou}%
\begin{description}[leftmargin=0\myzw,labelsep=1\myzw,itemindent=0\myzw,font=\mcfamily,nosep]
\item[第{\@thejou}条の\@theedajou] #2
\end{description}}
%------------------edahen
\newcounter{edahen}[hen]
\setcounter{edahen}{1}
\newcommand{\@theedahen}{\jkansuji\theedahen}
\newcommand{\edahen}[1]{\par\vskip1\myzw\noindent{\hspace{5\myzw}第{\@thehen}編の\@theedahen%
\hspace{1\myzw}\refstepcounter{edahen}{#1}}\vskip1\myzw}

%------------------edasyou
\newcounter{edasyou}[syou]
\setcounter{edasyou}{1}
\newcommand{\@theedasyou}{\jkansuji\theedasyou
}
\newcommand{\edasyou}[1]{\par\vskip1\myzw\noindent{\hspace{5\myzw}第{\@thesyou}編の\@theedasyou%
\hspace{1\myzw}\refstepcounter{edasyou}{#1}}\vskip1\myzw}

%------------------edasetu
\newcounter{edasetu}[setu]
\setcounter{edasetu}{1}
\newcommand{\@theedasetu}{\jkansuji\theedasetu}
\newcommand{\edasetu}[1]{\par\vskip1\myzw\noindent{\hspace{5\myzw}第{\@thesetu}編の\@theedasetu%
\hspace{1\myzw}\refstepcounter{edasetu}{#1}}\vskip1\myzw}

%------------------edakan
\newcounter{edakan}[kan]
\setcounter{edakan}{1}
\newcommand{\@theedakan}{\jkansuji\theedakan}
\newcommand{\edakan}[1]{\par\vskip1\myzw\noindent{\hspace{5\myzw}第{\@thekan}編の\@theedakan%
\hspace{1\myzw}\refstepcounter{edakan}{#1}}\vskip1\myzw}

%------------------edamoku
\newcounter{edamoku}[moku]
\setcounter{edamoku}{1}
\newcommand{\@theedamoku}{\jkansuji\theedamoku}
\newcommand{\edamoku}[1]{\par\vskip1\myzw\noindent{\hspace{5\myzw}第{\@themoku}編の\@theedamoku%
\hspace{1\myzw}\refstepcounter{edamoku}{#1}}\vskip1\myzw}

%------------------edakou

\newcounter{edakou}[jou]
\newcommand{\@theedakou}{\jkakusuji\theedakou}
\newcommand{\edakou}[1]{%
\refstepcounter{edakou}
\begin{description}[leftmargin=0\zw,labelsep=1\zw,itemindent=0\zw,font=\mcfamily,nosep]
\item[{\@thekou}の\@theedakou] #1
\end{description}}

%------------------edagou

\newcounter{edagou}[jou]
\newcommand{\@theedagou}{\jkansuji\theedagou}
\newcommand{\edagou}[1]{
{\refstepcounter{edagou}}
\begin{description}[leftmargin=1\zw,labelsep=1\zw,itemindent=0\zw,font=\mcfamily,nosep]
\item[\@thegouの\@theedagou] #1
\end{description}
\setcounter{edagou}{1}}

%--------------------------------sakujo
\newcommand{\sakujo}[1]{%
\refstepcounter{#1}\par}

%--------------------------------husoku
\newenvironment{husoku}{\setcounter{kou}{0}\setcounter{jou}{0}\begingroup\par \noindent \vskip 1\myzw {\hspace{0\myzw}附則}\par }
{\endgroup\par}
%--------------------------------mokuji

\newcommand{\renew@mokuji@name}{%
\renewcommand{\hen}[1]{\refstepcounter{hen}\par\noindent{\hspace{0\myzw}第{\@thehen}編\hspace{1\myzw}{##1}}\setcounter{edahen}{1}\par}
\renewcommand{\syou}[1]{\refstepcounter{syou}\par\noindent{\hspace{1\myzw}第{\@thesyou}章\hspace{1\myzw}{##1}}\setcounter{edasyou}{1}\par}
\renewcommand{\setu}[1]{\refstepcounter{setu}\par\noindent{\hspace{2\myzw}第{\@thesetu}節\hspace{1\myzw}{##1}}\setcounter{edasetu}{1}\par}
\renewcommand{\kan}[1]{\refstepcounter{kan}\par\noindent{\hspace{3\myzw}第{\@thekan}款\hspace{1\myzw}{##1}}\setcounter{edakan}{1}\par}
\renewcommand{\moku}[1]{\refstepcounter{moku}\par\noindent{\hspace{4\myzw}第{\@themoku}目\hspace{1\myzw}{##1}}\setcounter{edamoku}{1}\par}
\renewcommand{\edahen}[1]{\refstepcounter{edahen}\par\noindent{\hspace{0\myzw}第{\@thehen}編の\@theedahen\hspace{1\myzw}{##1}}\par}
\renewcommand{\edasyou}[1]{\refstepcounter{edasyou}\par\noindent{\hspace{1\myzw}第{\@thehen}章の\@theedasyou\hspace{1\myzw}{##1}}\par}
\renewcommand{\edasetu}[1]{\refstepcounter{edasetu}\par\noindent{\hspace{2\myzw}第{\@thesetu}節の\@theedasetu\hspace{1\myzw}{##1}}\par}
\renewcommand{\edakan}[1]{\refstepcounter{edakan}\par\noindent{\hspace{3\myzw}第{\@thekan}款の\@theedakan\hspace{1\myzw}{##1}}\par}
\renewcommand{\edamoku}[1]{\refstepcounter{edamoku}\par\noindent{\hspace{4\myzw}第{\@themoku}目の\@theedamoku\hspace{1\myzw}{##1}}\par}
\renewcommand{\husoku}{\par\noindent 附則\par}
}

\newenvironment{mokuji}{\begingroup\renew@mokuji@name}
{\endgroup
\setcounter{hen}{0}
\setcounter{syou}{0}
\setcounter{setu}{0}
\setcounter{kan}{0}
\setcounter{moku}{0}
\setcounter{edahen}{0}
\setcounter{edasyou}{0}
\setcounter{edasetu}{0}
\setcounter{edakan}{0}
\setcounter{edamoku}{0}
\par}